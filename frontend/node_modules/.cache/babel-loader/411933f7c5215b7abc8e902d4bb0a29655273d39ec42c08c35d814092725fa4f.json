{"ast":null,"code":"import{useContext,useEffect}from\"react\";import useFormValidator from\"../../utils/useFormValidator\";import PopupWithForm from\"../PopupWithForms/PopupWithForm\";import CurrentUserContext from\"../../contexts/CurrentUserContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function EditProfilePopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateUser=_ref.onUpdateUser;var currentUser=useContext(CurrentUserContext);var _useFormValidator=useFormValidator(),inputValues=_useFormValidator.inputValues,inputErrors=_useFormValidator.inputErrors,isValid=_useFormValidator.isValid,isInputValid=_useFormValidator.isInputValid,handleChange=_useFormValidator.handleChange,resetForm=_useFormValidator.resetForm,setInputValue=_useFormValidator.setInputValue;useEffect(function(){setInputValue(\"nameInput\",currentUser.name);setInputValue(\"jobInput\",currentUser.about);},[currentUser,setInputValue]);function closePopup(){onClose();resetForm({nameInput:currentUser.name,jobInput:currentUser.about});}function handleSubmit(evt){evt.preventDefault();onUpdateUser({nameInput:inputValues.nameInput,jobInput:inputValues.jobInput},resetForm);}return/*#__PURE__*/_jsxs(PopupWithForm,{name:\"edit-author\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",textButton:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",isOpen:isOpen,onClose:closePopup,isValid:isValid,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{id:\"name-author\",type:\"text\",placeholder:\"\\u0418\\u043C\\u044F \\u0430\\u0432\\u0442\\u043E\\u0440\\u0430\",className:\"popup__input popup__input_type_name \".concat(isInputValid.nameInput===undefined||isInputValid.nameInput?'':'popup__input_type_error'),name:\"nameInput\",minLength:2,maxLength:40,required:\"\",value:inputValues.nameInput?inputValues.nameInput:'',onChange:handleChange}),/*#__PURE__*/_jsx(\"span\",{id:\"name-author-error\",className:\"popup__error popup__error_field_first\",children:inputErrors.nameInput}),/*#__PURE__*/_jsx(\"input\",{id:\"about-author\",type:\"text\",placeholder:\"\\u041E\\u0431 \\u0430\\u0432\\u0442\\u043E\\u0440\\u0435\",className:\"popup__input popup__input_type_job \".concat(isInputValid.jobInput===undefined||isInputValid.jobInput?'':'popup__input_type_error'),name:\"jobInput\",minLength:2,maxLength:200,required:\"\",value:inputValues.jobInput?inputValues.jobInput:'',onChange:handleChange}),/*#__PURE__*/_jsx(\"span\",{id:\"about-author-error\",className:\"popup__error popup__error_field_second\",children:inputErrors.jobInput})]});}","map":{"version":3,"names":["useContext","useEffect","useFormValidator","PopupWithForm","CurrentUserContext","jsx","_jsx","jsxs","_jsxs","EditProfilePopup","_ref","isOpen","onClose","onUpdateUser","currentUser","_useFormValidator","inputValues","inputErrors","isValid","isInputValid","handleChange","resetForm","setInputValue","name","about","closePopup","nameInput","jobInput","handleSubmit","evt","preventDefault","title","textButton","onSubmit","children","id","type","placeholder","className","concat","undefined","minLength","maxLength","required","value","onChange"],"sources":["/Users/dk/dev/mesto-react/src/components/EditProfilePopup/EditProfilePopup.js"],"sourcesContent":["import { useContext, useEffect } from \"react\";\nimport useFormValidator from \"../../utils/useFormValidator\";\nimport PopupWithForm from \"../PopupWithForms/PopupWithForm\";\nimport CurrentUserContext from \"../../contexts/CurrentUserContext\";\n\nexport default function EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n\n  const currentUser = useContext(CurrentUserContext);\n  const { inputValues, inputErrors, isValid, isInputValid, handleChange, resetForm, setInputValue } = useFormValidator();\n  \n  useEffect(() => {\n    setInputValue(\"nameInput\", currentUser.name);\n    setInputValue(\"jobInput\", currentUser.about);\n  }, [currentUser, setInputValue])\n\n  function closePopup() {\n    onClose();\n    resetForm({ nameInput: currentUser.name, jobInput: currentUser.about })\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateUser({ nameInput: inputValues.nameInput, jobInput: inputValues.jobInput }, resetForm);\n  }\n\n  return (\n    <PopupWithForm name='edit-author' title='Редактировать профиль' textButton='Сохранить' isOpen={isOpen} onClose={closePopup} isValid={isValid} onSubmit={handleSubmit}>\n      <input\n        id=\"name-author\"\n        type=\"text\"\n        placeholder=\"Имя автора\"\n        className={`popup__input popup__input_type_name ${isInputValid.nameInput === undefined || isInputValid.nameInput ? '' : 'popup__input_type_error'}`}\n        name=\"nameInput\"\n        minLength={2}\n        maxLength={40}\n        required=\"\"\n        value={inputValues.nameInput ? inputValues.nameInput : ''}\n        onChange={handleChange}\n      />\n      <span\n        id=\"name-author-error\"\n        className=\"popup__error popup__error_field_first\">{inputErrors.nameInput}</span>\n\n      <input\n        id=\"about-author\"\n        type=\"text\"\n        placeholder=\"Об авторе\"\n        className={`popup__input popup__input_type_job ${isInputValid.jobInput === undefined || isInputValid.jobInput ? '' : 'popup__input_type_error'}`}\n        name=\"jobInput\"\n        minLength={2}\n        maxLength={200}\n        required=\"\"\n        value={inputValues.jobInput ? inputValues.jobInput : ''}\n        onChange={handleChange}\n      />\n      <span\n        id=\"about-author-error\"\n        className=\"popup__error popup__error_field_second\">{inputErrors.jobInput}</span>\n    </PopupWithForm>\n  )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}