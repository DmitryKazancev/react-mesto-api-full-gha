{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from \"react\";\nexport default function useFormValidator() {\n  _s();\n  const [inputValues, setInputValues] = useState({});\n  const [inputErrors, setInputErrors] = useState({});\n  const [isValid, setIsValid] = useState(false);\n  const [isInputValid, setIsInputValid] = useState({});\n  function handleChange(evt) {\n    const name = evt.target.name;\n    const value = evt.target.value;\n    const validationMessage = evt.target.validationMessage;\n    const valid = evt.target.validity.valid;\n    const form = evt.target.form;\n    // console.log(isInputValid)\n\n    setIsValid(form.checkValidity());\n    setInputValues(lastValues => {\n      return {\n        ...lastValues,\n        [name]: value\n      };\n    });\n    setInputErrors(lastErrors => {\n      return {\n        ...lastErrors,\n        [name]: validationMessage\n      };\n    });\n    setIsInputValid(lastIsInputValid => {\n      return {\n        ...lastIsInputValid,\n        [name]: valid\n      };\n    });\n  }\n  function resetForm() {\n    let formData = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    setInputValues(formData);\n    setInputErrors({});\n    setIsValid(false);\n    setIsInputValid({});\n  }\n  function setInputValue(name, value) {\n    setInputValues(lastValues => {\n      return {\n        ...lastValues,\n        [name]: value\n      };\n    });\n  }\n  return {\n    inputValues,\n    inputErrors,\n    isValid,\n    isInputValid,\n    handleChange,\n    resetForm,\n    setInputValue\n  };\n}\n_s(useFormValidator, \"PNx/D1KjpGV4iWFZhUWRkt/etZI=\");","map":{"version":3,"names":["useState","useFormValidator","_s","inputValues","setInputValues","inputErrors","setInputErrors","isValid","setIsValid","isInputValid","setIsInputValid","handleChange","evt","name","target","value","validationMessage","valid","validity","form","checkValidity","lastValues","lastErrors","lastIsInputValid","resetForm","formData","arguments","length","undefined","setInputValue"],"sources":["/Users/dk/dev/mesto-react/src/utils/useFormValidator.js"],"sourcesContent":["import { useState } from \"react\";\n\n\nexport default function useFormValidator() {\n    const [inputValues, setInputValues] = useState({});\n    const [inputErrors, setInputErrors] = useState({});\n    const [isValid, setIsValid] = useState(false);\n    const [isInputValid, setIsInputValid] = useState({});\n\n    function handleChange (evt) {\n        const name = evt.target.name;\n        const value = evt.target.value;\n        const validationMessage = evt.target.validationMessage;\n        const valid = evt.target.validity.valid;\n        const form = evt.target.form;\n        // console.log(isInputValid)\n\n        setIsValid(form.checkValidity());\n\n        setInputValues((lastValues) => {\n            return {...lastValues, [name]: value}\n        })\n\n        setInputErrors((lastErrors) => {\n            return {...lastErrors, [name]: validationMessage}\n        })\n\n        setIsInputValid((lastIsInputValid) => {\n            return {...lastIsInputValid, [name]: valid}\n        })\n\n    }\n\n    function resetForm(formData={}) {\n        setInputValues(formData);\n        setInputErrors({});\n        setIsValid(false);\n        setIsInputValid({});\n    }\n\n    function setInputValue(name, value) {\n        setInputValues((lastValues) => {\n            return {...lastValues, [name]: value}\n        })\n\n    }\n    return {inputValues, inputErrors, isValid, isInputValid, handleChange, resetForm, setInputValue}\n}"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,OAAO;AAGhC,eAAe,SAASC,gBAAgBA,CAAA,EAAG;EAAAC,EAAA;EACvC,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGJ,QAAQ,CAAC,CAAC,CAAC,CAAC;EAClD,MAAM,CAACK,WAAW,EAAEC,cAAc,CAAC,GAAGN,QAAQ,CAAC,CAAC,CAAC,CAAC;EAClD,MAAM,CAACO,OAAO,EAAEC,UAAU,CAAC,GAAGR,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACS,YAAY,EAAEC,eAAe,CAAC,GAAGV,QAAQ,CAAC,CAAC,CAAC,CAAC;EAEpD,SAASW,YAAYA,CAAEC,GAAG,EAAE;IACxB,MAAMC,IAAI,GAAGD,GAAG,CAACE,MAAM,CAACD,IAAI;IAC5B,MAAME,KAAK,GAAGH,GAAG,CAACE,MAAM,CAACC,KAAK;IAC9B,MAAMC,iBAAiB,GAAGJ,GAAG,CAACE,MAAM,CAACE,iBAAiB;IACtD,MAAMC,KAAK,GAAGL,GAAG,CAACE,MAAM,CAACI,QAAQ,CAACD,KAAK;IACvC,MAAME,IAAI,GAAGP,GAAG,CAACE,MAAM,CAACK,IAAI;IAC5B;;IAEAX,UAAU,CAACW,IAAI,CAACC,aAAa,CAAC,CAAC,CAAC;IAEhChB,cAAc,CAAEiB,UAAU,IAAK;MAC3B,OAAO;QAAC,GAAGA,UAAU;QAAE,CAACR,IAAI,GAAGE;MAAK,CAAC;IACzC,CAAC,CAAC;IAEFT,cAAc,CAAEgB,UAAU,IAAK;MAC3B,OAAO;QAAC,GAAGA,UAAU;QAAE,CAACT,IAAI,GAAGG;MAAiB,CAAC;IACrD,CAAC,CAAC;IAEFN,eAAe,CAAEa,gBAAgB,IAAK;MAClC,OAAO;QAAC,GAAGA,gBAAgB;QAAE,CAACV,IAAI,GAAGI;MAAK,CAAC;IAC/C,CAAC,CAAC;EAEN;EAEA,SAASO,SAASA,CAAA,EAAc;IAAA,IAAbC,QAAQ,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAC,CAAC,CAAC;IAC1BtB,cAAc,CAACqB,QAAQ,CAAC;IACxBnB,cAAc,CAAC,CAAC,CAAC,CAAC;IAClBE,UAAU,CAAC,KAAK,CAAC;IACjBE,eAAe,CAAC,CAAC,CAAC,CAAC;EACvB;EAEA,SAASmB,aAAaA,CAAChB,IAAI,EAAEE,KAAK,EAAE;IAChCX,cAAc,CAAEiB,UAAU,IAAK;MAC3B,OAAO;QAAC,GAAGA,UAAU;QAAE,CAACR,IAAI,GAAGE;MAAK,CAAC;IACzC,CAAC,CAAC;EAEN;EACA,OAAO;IAACZ,WAAW;IAAEE,WAAW;IAAEE,OAAO;IAAEE,YAAY;IAAEE,YAAY;IAAEa,SAAS;IAAEK;EAAa,CAAC;AACpG;AAAC3B,EAAA,CA5CuBD,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}